<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Interactive world map to learn airport codes - explore 65+ major airports worldwide">
  <meta name="keywords" content="airport codes, IATA codes, aviation, travel, learn airport codes">
  <title>Airport Code Explorer - Learn Airport Codes Interactively</title>
  
  <!-- React -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
  
  <!-- Leaflet JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
  
  <!-- OPTIONAL: Google Analytics - Replace YOUR-GA4-ID with your actual ID -->
  <!--
  <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR-GA4-ID"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'YOUR-GA4-ID');
  </script>
  -->
  
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    .leaflet-container {
      font-family: inherit;
    }
    .custom-airport-marker {
      background: none;
      border: none;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect, useRef } = React;
    const { Search, X, Plane, MapPin, Layers } = window.lucide;

    const AirportMap = () => {
      const mapRef = useRef(null);
      const mapInstanceRef = useRef(null);
      const markersRef = useRef([]);
      const [searchTerm, setSearchTerm] = useState('');
      const [selectedAirport, setSelectedAirport] = useState(null);
      const [filter, setFilter] = useState('all');
      const [mapStyle, setMapStyle] = useState('streets');
      const [isMapReady, setIsMapReady] = useState(false);

      const airports = [
        { code: 'ATL', name: 'Hartsfield-Jackson Atlanta', city: 'Atlanta', country: 'USA', lat: 33.6407, lng: -84.4277, region: 'americas' },
        { code: 'LAX', name: 'Los Angeles International', city: 'Los Angeles', country: 'USA', lat: 33.9416, lng: -118.4085, region: 'americas' },
        { code: 'ORD', name: "O'Hare International", city: 'Chicago', country: 'USA', lat: 41.9742, lng: -87.9073, region: 'americas' },
        { code: 'DFW', name: 'Dallas/Fort Worth', city: 'Dallas', country: 'USA', lat: 32.8998, lng: -97.0403, region: 'americas' },
        { code: 'DEN', name: 'Denver International', city: 'Denver', country: 'USA', lat: 39.8561, lng: -104.6737, region: 'americas' },
        { code: 'JFK', name: 'John F. Kennedy International', city: 'New York', country: 'USA', lat: 40.6413, lng: -73.7781, region: 'americas' },
        { code: 'SFO', name: 'San Francisco International', city: 'San Francisco', country: 'USA', lat: 37.6213, lng: -122.3790, region: 'americas' },
        { code: 'LAS', name: 'Harry Reid International', city: 'Las Vegas', country: 'USA', lat: 36.0840, lng: -115.1537, region: 'americas' },
        { code: 'SEA', name: 'Seattle-Tacoma International', city: 'Seattle', country: 'USA', lat: 47.4502, lng: -122.3088, region: 'americas' },
        { code: 'MCO', name: 'Orlando International', city: 'Orlando', country: 'USA', lat: 28.4312, lng: -81.3081, region: 'americas' },
        { code: 'MIA', name: 'Miami International', city: 'Miami', country: 'USA', lat: 25.7959, lng: -80.2870, region: 'americas' },
        { code: 'IAH', name: 'George Bush Intercontinental', city: 'Houston', country: 'USA', lat: 29.9902, lng: -95.3368, region: 'americas' },
        { code: 'PHX', name: 'Phoenix Sky Harbor', city: 'Phoenix', country: 'USA', lat: 33.4484, lng: -112.0740, region: 'americas' },
        { code: 'BOS', name: 'Logan International', city: 'Boston', country: 'USA', lat: 42.3656, lng: -71.0096, region: 'americas' },
        { code: 'YYZ', name: 'Toronto Pearson', city: 'Toronto', country: 'Canada', lat: 43.6777, lng: -79.6248, region: 'americas' },
        { code: 'YVR', name: 'Vancouver International', city: 'Vancouver', country: 'Canada', lat: 49.1967, lng: -123.1815, region: 'americas' },
        { code: 'MEX', name: 'Mexico City International', city: 'Mexico City', country: 'Mexico', lat: 19.4363, lng: -99.0721, region: 'americas' },
        { code: 'CUN', name: 'Canc칰n International', city: 'Canc칰n', country: 'Mexico', lat: 21.0407, lng: -86.8737, region: 'americas' },
        { code: 'GRU', name: 'S칚o Paulo-Guarulhos', city: 'S칚o Paulo', country: 'Brazil', lat: -23.4356, lng: -46.4731, region: 'americas' },
        { code: 'GIG', name: 'Rio de Janeiro-Gale칚o', city: 'Rio de Janeiro', country: 'Brazil', lat: -22.8099, lng: -43.2505, region: 'americas' },
        { code: 'BOG', name: 'El Dorado International', city: 'Bogot치', country: 'Colombia', lat: 4.7016, lng: -74.1469, region: 'americas' },
        { code: 'EZE', name: 'Ministro Pistarini', city: 'Buenos Aires', country: 'Argentina', lat: -34.8222, lng: -58.5358, region: 'americas' },
        { code: 'LIM', name: 'Jorge Ch치vez International', city: 'Lima', country: 'Peru', lat: -12.0219, lng: -77.1143, region: 'americas' },
        { code: 'SCL', name: 'Arturo Merino Ben칤tez', city: 'Santiago', country: 'Chile', lat: -33.3930, lng: -70.7858, region: 'americas' },
        { code: 'LHR', name: 'London Heathrow', city: 'London', country: 'UK', lat: 51.4700, lng: -0.4543, region: 'europe' },
        { code: 'CDG', name: 'Charles de Gaulle', city: 'Paris', country: 'France', lat: 49.0097, lng: 2.5479, region: 'europe' },
        { code: 'AMS', name: 'Amsterdam Schiphol', city: 'Amsterdam', country: 'Netherlands', lat: 52.3105, lng: 4.7683, region: 'europe' },
        { code: 'FRA', name: 'Frankfurt Airport', city: 'Frankfurt', country: 'Germany', lat: 50.0379, lng: 8.5622, region: 'europe' },
        { code: 'MAD', name: 'Adolfo Su치rez Madrid-Barajas', city: 'Madrid', country: 'Spain', lat: 40.4983, lng: -3.5676, region: 'europe' },
        { code: 'BCN', name: 'Barcelona-El Prat', city: 'Barcelona', country: 'Spain', lat: 41.2974, lng: 2.0833, region: 'europe' },
        { code: 'IST', name: 'Istanbul Airport', city: 'Istanbul', country: 'Turkey', lat: 41.2753, lng: 28.7519, region: 'europe' },
        { code: 'MUC', name: 'Munich Airport', city: 'Munich', country: 'Germany', lat: 48.3538, lng: 11.7750, region: 'europe' },
        { code: 'FCO', name: 'Leonardo da Vinci-Fiumicino', city: 'Rome', country: 'Italy', lat: 41.8003, lng: 12.2389, region: 'europe' },
        { code: 'LGW', name: 'London Gatwick', city: 'London', country: 'UK', lat: 51.1537, lng: -0.1821, region: 'europe' },
        { code: 'ZRH', name: 'Zurich Airport', city: 'Zurich', country: 'Switzerland', lat: 47.4647, lng: 8.5492, region: 'europe' },
        { code: 'VIE', name: 'Vienna International', city: 'Vienna', country: 'Austria', lat: 48.1103, lng: 16.5697, region: 'europe' },
        { code: 'CPH', name: 'Copenhagen Airport', city: 'Copenhagen', country: 'Denmark', lat: 55.6180, lng: 12.6508, region: 'europe' },
        { code: 'DXB', name: 'Dubai International', city: 'Dubai', country: 'UAE', lat: 25.2532, lng: 55.3657, region: 'asia' },
        { code: 'DOH', name: 'Hamad International', city: 'Doha', country: 'Qatar', lat: 25.2731, lng: 51.6080, region: 'asia' },
        { code: 'HND', name: 'Tokyo Haneda', city: 'Tokyo', country: 'Japan', lat: 35.5494, lng: 139.7798, region: 'asia' },
        { code: 'NRT', name: 'Narita International', city: 'Tokyo', country: 'Japan', lat: 35.7720, lng: 140.3929, region: 'asia' },
        { code: 'PEK', name: 'Beijing Capital', city: 'Beijing', country: 'China', lat: 40.0799, lng: 116.6031, region: 'asia' },
        { code: 'PVG', name: 'Shanghai Pudong', city: 'Shanghai', country: 'China', lat: 31.1443, lng: 121.8083, region: 'asia' },
        { code: 'ICN', name: 'Incheon International', city: 'Seoul', country: 'South Korea', lat: 37.4602, lng: 126.4407, region: 'asia' },
        { code: 'SIN', name: 'Singapore Changi', city: 'Singapore', country: 'Singapore', lat: 1.3644, lng: 103.9915, region: 'asia' },
        { code: 'HKG', name: 'Hong Kong International', city: 'Hong Kong', country: 'China', lat: 22.3080, lng: 113.9185, region: 'asia' },
        { code: 'BKK', name: 'Suvarnabhumi', city: 'Bangkok', country: 'Thailand', lat: 13.6900, lng: 100.7501, region: 'asia' },
        { code: 'DEL', name: 'Indira Gandhi International', city: 'New Delhi', country: 'India', lat: 28.5562, lng: 77.1000, region: 'asia' },
        { code: 'BOM', name: 'Chhatrapati Shivaji Maharaj', city: 'Mumbai', country: 'India', lat: 19.0896, lng: 72.8656, region: 'asia' },
        { code: 'JNB', name: 'O.R. Tambo International', city: 'Johannesburg', country: 'South Africa', lat: -26.1392, lng: 28.2460, region: 'africa' },
        { code: 'CAI', name: 'Cairo International', city: 'Cairo', country: 'Egypt', lat: 30.1219, lng: 31.4056, region: 'africa' },
        { code: 'CPT', name: 'Cape Town International', city: 'Cape Town', country: 'South Africa', lat: -33.9715, lng: 18.6021, region: 'africa' },
        { code: 'SYD', name: 'Sydney Kingsford Smith', city: 'Sydney', country: 'Australia', lat: -33.9399, lng: 151.1753, region: 'oceania' },
        { code: 'MEL', name: 'Melbourne Airport', city: 'Melbourne', country: 'Australia', lat: -37.6690, lng: 144.8410, region: 'oceania' },
        { code: 'AKL', name: 'Auckland Airport', city: 'Auckland', country: 'New Zealand', lat: -37.0082, lng: 174.7850, region: 'oceania' },
      ];

      const filteredAirports = airports.filter(airport => {
        const matchesSearch = 
          airport.code.toLowerCase().includes(searchTerm.toLowerCase()) ||
          airport.city.toLowerCase().includes(searchTerm.toLowerCase()) ||
          airport.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
          airport.country.toLowerCase().includes(searchTerm.toLowerCase());
        
        const matchesRegion = filter === 'all' || airport.region === filter;
        
        return matchesSearch && matchesRegion;
      });

      const getRegionColor = (region) => {
        const colors = {
          americas: '#f97316',
          europe: '#10b981',
          asia: '#ec4899',
          africa: '#eab308',
          oceania: '#8b5cf6'
        };
        return colors[region] || '#3b82f6';
      };

      useEffect(() => {
        if (window.L) {
          setIsMapReady(true);
        }
      }, []);

      useEffect(() => {
        if (!isMapReady || !mapRef.current || mapInstanceRef.current) return;

        const L = window.L;
        const map = L.map(mapRef.current, {
          center: [20, 0],
          zoom: 2,
          minZoom: 2,
          maxZoom: 18,
          worldCopyJump: true
        });

        mapInstanceRef.current = map;

        const tileLayers = {
          streets: L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '춸 OpenStreetMap contributors',
            maxZoom: 19
          }),
          satellite: L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles 춸 Esri',
            maxZoom: 19
          }),
          dark: L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
            attribution: '춸 OpenStreetMap 춸 CartoDB',
            maxZoom: 19
          })
        };

        tileLayers[mapStyle].addTo(map);

        return () => {
          if (mapInstanceRef.current) {
            mapInstanceRef.current.remove();
            mapInstanceRef.current = null;
          }
        };
      }, [isMapReady, mapStyle]);

      useEffect(() => {
        if (!mapInstanceRef.current || !window.L) return;

        const L = window.L;
        const map = mapInstanceRef.current;

        markersRef.current.forEach(marker => marker.remove());
        markersRef.current = [];

        filteredAirports.forEach(airport => {
          const color = getRegionColor(airport.region);
          
          const iconHtml = `
            <div style="position: relative; width: 30px; height: 30px;">
              <div style="
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 20px;
                height: 20px;
                background: ${color};
                border: 3px solid white;
                border-radius: 50%;
                box-shadow: 0 2px 8px rgba(0,0,0,0.3);
                display: flex;
                align-items: center;
                justify-content: center;
              ">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="white">
                  <path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/>
                </svg>
              </div>
            </div>
          `;

          const icon = L.divIcon({
            html: iconHtml,
            className: 'custom-airport-marker',
            iconSize: [30, 30],
            iconAnchor: [15, 15]
          });

          const marker = L.marker([airport.lat, airport.lng], { icon })
            .addTo(map)
            .on('click', () => setSelectedAirport(airport))
            .bindTooltip(`<strong>${airport.code}</strong><br/>${airport.city}`, {
              direction: 'top',
              offset: [0, -15]
            });

          markersRef.current.push(marker);
        });

        if (selectedAirport && window.L) {
          filteredAirports.forEach(airport => {
            if (airport.code !== selectedAirport.code) {
              const line = L.polyline(
                [[selectedAirport.lat, selectedAirport.lng], [airport.lat, airport.lng]],
                {
                  color: getRegionColor(selectedAirport.region),
                  weight: 2,
                  opacity: 0.4,
                  dashArray: '5, 10'
                }
              ).addTo(map);
              markersRef.current.push(line);
            }
          });
        }
      }, [filteredAirports, selectedAirport, isMapReady]);

      if (!isMapReady) {
        return React.createElement('div', {
          className: 'w-full h-screen bg-slate-900 flex items-center justify-center'
        },
          React.createElement('div', { className: 'text-center' },
            React.createElement(Plane, { className: 'w-16 h-16 text-blue-400 mx-auto mb-4 animate-bounce' }),
            React.createElement('p', { className: 'text-white text-xl' }, 'Loading Map...')
          )
        );
      }

      return React.createElement('div', { className: 'w-full h-screen bg-slate-900 flex flex-col' },
        React.createElement('div', { className: 'bg-slate-800 bg-opacity-95 backdrop-blur-sm border-b border-slate-700 p-4 z-10' },
          React.createElement('div', { className: 'max-w-7xl mx-auto' },
            React.createElement('div', { className: 'flex items-center justify-between mb-4' },
              React.createElement('div', { className: 'flex items-center gap-3' },
                React.createElement(Plane, { className: 'w-8 h-8 text-blue-400' }),
                React.createElement('h1', { className: 'text-2xl sm:text-3xl font-bold text-white' }, 'Airport Code Explorer')
              ),
              React.createElement('div', { className: 'flex items-center gap-2' },
                React.createElement('button', {
                  onClick: () => setMapStyle(s => s === 'streets' ? 'dark' : s === 'dark' ? 'satellite' : 'streets'),
                  className: 'flex items-center gap-2 px-3 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors text-sm',
                  title: 'Change map style'
                },
                  React.createElement(Layers, { className: 'w-4 h-4' }),
                  React.createElement('span', { className: 'hidden sm:inline' }, 
                    mapStyle === 'streets' ? 'Street' : mapStyle === 'dark' ? 'Dark' : 'Satellite'
                  )
                )
              )
            ),
            React.createElement('div', { className: 'flex flex-col sm:flex-row gap-3' },
              React.createElement('div', { className: 'relative flex-1' },
                React.createElement(Search, { className: 'absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400' }),
                React.createElement('input', {
                  type: 'text',
                  placeholder: 'Search by code, city, or country...',
                  value: searchTerm,
                  onChange: (e) => setSearchTerm(e.target.value),
                  className: 'w-full pl-10 pr-4 py-2 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-blue-400 focus:outline-none'
                })
              ),
              React.createElement('select', {
                value: filter,
                onChange: (e) => setFilter(e.target.value),
                className: 'px-4 py-2 bg-slate-700 text-white rounded-lg border border-slate-600 focus:border-blue-400 focus:outline-none'
              },
                React.createElement('option', { value: 'all' }, 'All Regions'),
                React.createElement('option', { value: 'americas' }, '游 Americas'),
                React.createElement('option', { value: 'europe' }, '游릭 Europe'),
                React.createElement('option', { value: 'asia' }, '游뽕 Asia & Middle East'),
                React.createElement('option', { value: 'africa' }, '游리 Africa'),
                React.createElement('option', { value: 'oceania' }, '游릮 Oceania')
              )
            )
          )
        ),
        React.createElement('div', { className: 'flex-1 relative' },
          React.createElement('div', { ref: mapRef, className: 'w-full h-full' }),
          selectedAirport && React.createElement('div', {
            className: 'absolute top-4 right-4 bg-slate-800 bg-opacity-95 backdrop-blur-sm rounded-lg shadow-2xl p-6 max-w-sm border-2 z-10',
            style: { borderColor: getRegionColor(selectedAirport.region) }
          },
            React.createElement('button', {
              onClick: () => setSelectedAirport(null),
              className: 'absolute top-3 right-3 text-slate-400 hover:text-white transition-colors'
            }, React.createElement(X, { className: 'w-5 h-5' })),
            React.createElement('div', { className: 'flex items-start gap-3 mb-4' },
              React.createElement('div', {
                className: 'rounded-lg p-3',
                style: { backgroundColor: getRegionColor(selectedAirport.region) }
              }, React.createElement(MapPin, { className: 'w-6 h-6 text-white' })),
              React.createElement('div', {},
                React.createElement('h2', {
                  className: 'text-3xl font-bold',
                  style: { color: getRegionColor(selectedAirport.region) }
                }, selectedAirport.code),
                React.createElement('p', { className: 'text-sm text-slate-400' }, 'Airport Code')
              )
            ),
            React.createElement('div', { className: 'space-y-3' },
              React.createElement('div', {},
                React.createElement('p', { className: 'text-sm text-slate-400 mb-1' }, 'Airport Name'),
                React.createElement('p', { className: 'text-white font-medium' }, selectedAirport.name)
              ),
              React.createElement('div', { className: 'grid grid-cols-2 gap-3' },
                React.createElement('div', {},
                  React.createElement('p', { className: 'text-sm text-slate-400 mb-1' }, 'City'),
                  React.createElement('p', { className: 'text-white' }, selectedAirport.city)
                ),
                React.createElement('div', {},
                  React.createElement('p', { className: 'text-sm text-slate-400 mb-1' }, 'Country'),
                  React.createElement('p', { className: 'text-white' }, selectedAirport.country)
                )
              ),
              React.createElement('div', { className: 'pt-3 border-t border-slate-700' },
                React.createElement('p', { className: 'text-xs text-slate-400 italic' }, 
                  'Click another airport to see flight connections!'
                )
              )
            )
          ),
          React.createElement('div', { className: 'absolute bottom-4 left-4 bg-slate-800 bg-opacity-95 backdrop-blur-sm rounded-lg p-4 border border-slate-700 z-10' },
            React.createElement('p', { className: 'text-white text-sm font-bold mb-2' },
              `${filteredAirports.length} of ${airports.length} airports`
            ),
            React.createElement('div', { className: 'space-y-1 text-xs' },
              ['americas', 'europe', 'asia', 'africa', 'oceania'].map(region => 
                React.createElement('div', { key: region, className: 'flex items-center gap-2' },
                  React.createElement('div', {
                    className: 'w-3 h-3 rounded-full',
                    style: { backgroundColor: getRegionColor(region) }
                  }),
                  React.createElement('span', { className: 'text-slate-300 capitalize' }, region)
                )
              )
            )
          )
        )
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(React.createElement(AirportMap));
  </script>
  
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    lucide.createIcons();
  </script>
</body>
</html>